#!/usr/bin/env node

var analyze = require('../analyze'),
    pipeline = require('../pipeline');

var name  = process.argv[2] || 'module-smith',
    mod   = process.argv[3] || 'async';

try {
  var results = analyze(require('../test/' + name + '.json'), mod);
  console.dir(results);
}
catch (ex) {
  pipeline(name, function (err, files) {
    try {
      var results = analyze(files, mod);
      console.dir(results);
    }
    catch (ex) {
      console.dir(ex);
    }
  });
}
